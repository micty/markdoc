##销售出库单单据模板获取sql脚本以及json数据（供前端调试使用）

`2017-03-02 Added by Zxs;2017-03-04 last Modified`

**销售出库单模板筛选sql：**

**表头模板过滤：**
``` sql
--单据模板字段整理(去除多余字段)
--销售出库、销售退货
select FFieldName as fieldName,FCaption as caption,
	case when FVisForBillType=0 then 'true' else 'false' end as hidden,
	fctlType as ctlType,FLookUpCls as [lookup],FValueType as dataType,FSaveValue as saveType,
	case when FMustInput=0 then 'false' else 'true' end as mustInput,
	case when FEnable=0 then 'false' else 'true' end as [enable],
	case when FNeedSave=0 then 'false' else 'true' end as needSave,
	FAction as [action],FRelationID as relation,
	case when FDefaultCtl=0 then 'false' else 'true' end as [default]
from ICTemplate 
where FID ='B01' 
	and FFieldName not in ('FBillCaption','FEntry','FRelateBrID','FDCStockID','FMultiCheckLevel1',
			'FMultiCheckLevel2','FMultiCheckLevel3','FMultiCheckLevel4','FMultiCheckLevel5',
			'FMultiCheckLevel6','FMultiCheckDate1','FMultiCheckDate2','FMultiCheckDate3','FWorkShiftId',
			'FMultiCheckDate4','FMultiCheckDate5','FMultiCheckDate6','FMarketingStyle','FPOSName',
			'FSelTranType','FSelBillNo','FBrID','FVIPCardID','FVIPScore','FHolisticDiscountRate')
```

**表体模板过滤：**
``` sql
select FFieldName as fieldName,FHeadCaption as caption,
	case when FVisForBillType=0 then 'true' else 'false' end as hidden,
	fctlType as ctlType,FLookUpCls as [lookup],FValueType as dataType,FSaveValue as saveType,
	case when FMustInput=0 then 'false' else 'true' end as mustInput,
	case when FEnable=0 then 'false' else 'true' end as [enable],
	case when FNeedSave=0 then 'false' else 'true' end as needSave,
	FAction as [action],FRelationID as relation,
	case when FDefaultCtl=0 then 'false' else 'true' end as [default],
	case when FNeedCount=0 then 'false' else 'true' end as [sum]
from ICTemplateEntry 
where FID = 'B01' 
	and FFieldName not in ('FAuxPlanPrice','FDCSPID','FMapNumber','FMapName','FPlanAmount','FSnListID',
			'FSecCoefficient','FSecQty','FContractInterID','FContractEntryID','FContractBillNo',
			'FSplitSecQty','FDVStockID','FAuxPropCls','FUNHookQTY','FSplitAuxQty','FIsSNManage',
			'FSecUnitID','FSepcialSaleId')
```

**销售出库单模板Json：**
``` json
{
    "code": "200",
    "msg": "ok",
    "data": {
        "billName": "销售出库单",
        "transType": "21",
        "templateID": "B01",
        "head": [
            {
                "fieldName": "Fdate",
                "caption": "日期(*) :",
                "hidden": "false",
                "ctrlType": "1",
                "lookUp": "-1",
                "dataType": "2",
                "saveType": "0",
                "mustInput": "true",
                "enable": "true",
                "needSave": "true",
                "action": "",
                "relation": "",
                "default": "true"
            },
            {
                "fieldName": "FSupplyID",
                "caption": "购货单位(*) :",
                "hidden": "false",
                "ctrlType": "2",
                "lookUp": "1",
                "dataType": "1",
                "saveType": "1",
                "mustInput": "true",
                "enable": "true",
                "needSave": "true",
                "action": "",
                "relation": "FSupplyID",
                "default": "true"
            },
            {
                "fieldName": "FBillNo",
                "caption": "编号(*) :    ",
                "hidden": "false",
                "ctrlType": "4",
                "lookUp": "-1",
                "dataType": "0",
                "saveType": "0",
                "mustInput": "true",
                "enable": "false",
                "needSave": "true",
                "action": "",
                "relation": "",
                "default": "true"
            },
            {
                "fieldName": "FSaleStyle",
                "caption": "销售方式(*) :",
                "hidden": "false",
                "ctrlType": "2",
                "lookUp": "101",
                "dataType": "1",
                "saveType": "1",
                "mustInput": "true",
                "enable": "true",
                "needSave": "true",
                "action": "",
                "relation": "FSCBillInterID,FSupplyID",
                "default": "true"
            },
            {
                "fieldName": "FCheckerID",
                "caption": "审核:",
                "hidden": "false",
                "ctrlType": "8",
                "lookUp": "-1",
                "dataType": "1",
                "saveType": "1",
                "mustInput": "false",
                "enable": "false",
                "needSave": "false",
                "action": "",
                "relation": "",
                "default": "true"
            },
            {
                "fieldName": "FPosterID",
                "caption": "记账:  ",
                "hidden": "false",
                "ctrlType": "18",
                "lookUp": "-1",
                "dataType": "0",
                "saveType": "0",
                "mustInput": "false",
                "enable": "false",
                "needSave": "false",
                "action": "",
                "relation": "",
                "default": "true"
            },
            {
                "fieldName": "FFManagerID",
                "caption": "发货:",
                "hidden": "false",
                "ctrlType": "2",
                "lookUp": "3",
                "dataType": "1",
                "saveType": "1",
                "mustInput": "false",
                "enable": "true",
                "needSave": "true",
                "action": "",
                "relation": "",
                "default": "true"
            },
            {
                "fieldName": "FSManagerID",
                "caption": "保管:",
                "hidden": "false",
                "ctrlType": "2",
                "lookUp": "3",
                "dataType": "1",
                "saveType": "1",
                "mustInput": "false",
                "enable": "true",
                "needSave": "true",
                "action": "",
                "relation": "FDCStockID",
                "default": "true"
            },
            {
                "fieldName": "FBillerID",
                "caption": "制单:",
                "hidden": "false",
                "ctrlType": "9",
                "lookUp": "-1",
                "dataType": "1",
                "saveType": "1",
                "mustInput": "false",
                "enable": "false",
                "needSave": "true",
                "action": "",
                "relation": "",
                "default": "true"
            },
            {
                "fieldName": "FOrgBillInterID",
                "caption": "源单内码:",
                "hidden": "true",
                "ctrlType": "3",
                "lookUp": "-1",
                "dataType": "1",
                "saveType": "0",
                "mustInput": "false",
                "enable": "false",
                "needSave": "true",
                "action": "",
                "relation": "",
                "default": "true"
            },
            {
                "fieldName": "FReceiveAddr",
                "caption": "收货地址:",
                "hidden": "false",
                "ctrlType": "2",
                "lookUp": "303",
                "dataType": "0",
                "saveType": "0",
                "mustInput": "false",
                "enable": "true",
                "needSave": "true",
                "action": "",
                "relation": "",
                "default": "true"
            },
            {
                "fieldName": "FWLNumber",
                "caption": "物流单号",
                "hidden": "false",
                "ctrlType": "30",
                "lookUp": "-1",
                "dataType": "0",
                "saveType": "0",
                "mustInput": "false",
                "enable": "true",
                "needSave": "true",
                "action": "",
                "relation": "",
                "default": "true"
            },
            {
                "fieldName": "FWLCompany",
                "caption": "物流公司",
                "hidden": "false",
                "ctrlType": "2",
                "lookUp": "9997",
                "dataType": "1",
                "saveType": "1",
                "mustInput": "false",
                "enable": "true",
                "needSave": "true",
                "action": "",
                "relation": "",
                "default": "true"
            },
            {
                "fieldName": "FBillSource",
                "caption": "单据来源",
                "hidden": "true",
                "ctrlType": "2",
                "lookUp": "255",
                "dataType": "1",
                "saveType": "1",
                "mustInput": "false",
                "enable": "true",
                "needSave": "true",
                "action": "",
                "relation": "FCustID",
                "default": "true"
            },
            {
                "fieldName": "FRejectedNote",
                "caption": "驳回原因    :",
                "hidden": "false",
                "ctrlType": "0",
                "lookUp": "-1",
                "dataType": "0",
                "saveType": "0",
                "mustInput": "false",
                "enable": "false",
                "needSave": "true",
                "action": "",
                "relation": "",
                "default": "true"
            },
            {
                "fieldName": "FCheckDate",
                "caption": "审核日期:",
                "hidden": "false",
                "ctrlType": "17",
                "lookUp": "-1",
                "dataType": "2",
                "saveType": "0",
                "mustInput": "false",
                "enable": "false",
                "needSave": "true",
                "action": "",
                "relation": "",
                "default": "true"
            },
            {
                "fieldName": "FFetchAdd",
                "caption": "发货地点:    ",
                "hidden": "false",
                "ctrlType": "2",
                "lookUp": "33",
                "dataType": "0",
                "saveType": "0",
                "mustInput": "false",
                "enable": "true",
                "needSave": "true",
                "action": "",
                "relation": "",
                "default": "true"
            },
            {
                "fieldName": "FExplanation",
                "caption": "摘要:    ",
                "hidden": "false",
                "ctrlType": "2",
                "lookUp": "36",
                "dataType": "0",
                "saveType": "0",
                "mustInput": "false",
                "enable": "true",
                "needSave": "true",
                "action": "",
                "relation": "",
                "default": "true"
            },
            {
                "fieldName": "FDeptID",
                "caption": "部门:",
                "hidden": "false",
                "ctrlType": "2",
                "lookUp": "2",
                "dataType": "1",
                "saveType": "1",
                "mustInput": "false",
                "enable": "true",
                "needSave": "true",
                "action": "",
                "relation": "FSupplyID",
                "default": "true"
            },
            {
                "fieldName": "FEmpID",
                "caption": "业务员:",
                "hidden": "false",
                "ctrlType": "2",
                "lookUp": "3",
                "dataType": "1",
                "saveType": "1",
                "mustInput": "false",
                "enable": "true",
                "needSave": "true",
                "action": "",
                "relation": "FSupplyID",
                "default": "true"
            },
            {
                "fieldName": "FManagerID",
                "caption": "主管:",
                "hidden": "false",
                "ctrlType": "2",
                "lookUp": "3",
                "dataType": "1",
                "saveType": "1",
                "mustInput": "false",
                "enable": "true",
                "needSave": "true",
                "action": "",
                "relation": "FSupplyID",
                "default": "true"
            }
        ],
        "entry": [
            {
                "fieldName": "Fauxqty",
                "caption": "实发数量(*)",
                "hidden": "false",
                "ctrlType": "3",
                "lookUp": "-1",
                "dataType": "1",
                "saveType": "0",
                "mustInput": "true",
                "enable": "true",
                "needSave": "true",
                "action": "",
                "relation": "FAuxQty,FUnitID,FQty",
                "default": "true",
                "sum": "true"
            },
            {
                "fieldName": "Fauxprice",
                "caption": "单位成本价",
                "hidden": "false",
                "ctrlType": "12",
                "lookUp": "-1",
                "dataType": "1",
                "saveType": "0",
                "mustInput": "false",
                "enable": "true",
                "needSave": "true",
                "action": "",
                "relation": "FItemID,FAmount,FUnitID",
                "default": "true",
                "sum": "false"
            },
            {
                "fieldName": "Famount",
                "caption": "成本",
                "hidden": "false",
                "ctrlType": "11",
                "lookUp": "-1",
                "dataType": "1",
                "saveType": "0",
                "mustInput": "false",
                "enable": "true",
                "needSave": "true",
                "action": "",
                "relation": "FAuxQty,FAuxPrice,FQty",
                "default": "true",
                "sum": "true"
            },
            {
                "fieldName": "Fnote",
                "caption": "备注",
                "hidden": "false",
                "ctrlType": "0",
                "lookUp": "-1",
                "dataType": "0",
                "saveType": "0",
                "mustInput": "false",
                "enable": "true",
                "needSave": "true",
                "action": "",
                "relation": "",
                "default": "true",
                "sum": "false"
            },
            {
                "fieldName": "FBaseUnit",
                "caption": "基本单位名称",
                "hidden": "false",
                "ctrlType": "2",
                "lookUp": "7",
                "dataType": "0",
                "saveType": "0",
                "mustInput": "false",
                "enable": "false",
                "needSave": "false",
                "action": "",
                "relation": "FItemID",
                "default": "true",
                "sum": "false"
            },
            {
                "fieldName": "FQty",
                "caption": "基本单位实发数量",
                "hidden": "false",
                "ctrlType": "3",
                "lookUp": "-1",
                "dataType": "1",
                "saveType": "0",
                "mustInput": "false",
                "enable": "false",
                "needSave": "true",
                "action": "",
                "relation": "FAuxQty,FQty,FItemID",
                "default": "true",
                "sum": "true"
            },
            {
                "fieldName": "FConsignPrice",
                "caption": "销售单价",
                "hidden": "false",
                "ctrlType": "12",
                "lookUp": "-1",
                "dataType": "1",
                "saveType": "0",
                "mustInput": "false",
                "enable": "true",
                "needSave": "true",
                "action": "",
                "relation": "FItemID,FUnitID,FConsignAmount",
                "default": "true",
                "sum": "false"
            },
            {
                "fieldName": "FEntryID",
                "caption": "行号",
                "hidden": "false",
                "ctrlType": "33",
                "lookUp": "-1",
                "dataType": "3",
                "saveType": "0",
                "mustInput": "false",
                "enable": "false",
                "needSave": "false",
                "action": "",
                "relation": "",
                "default": "true",
                "sum": "false"
            },
            {
                "fieldName": "FItemID",
                "caption": "产品代码(*)",
                "hidden": "false",
                "ctrlType": "2",
                "lookUp": "4",
                "dataType": "1",
                "saveType": "1",
                "mustInput": "true",
                "enable": "true",
                "needSave": "true",
                "action": "",
                "relation": "FItemID,FBatchNo",
                "default": "true",
                "sum": "false"
            },
            {
                "fieldName": "FItemName",
                "caption": "产品名称",
                "hidden": "false",
                "ctrlType": "0",
                "lookUp": "-1",
                "dataType": "0",
                "saveType": "0",
                "mustInput": "false",
                "enable": "false",
                "needSave": "false",
                "action": "",
                "relation": "FItemID",
                "default": "true",
                "sum": "false"
            },
            {
                "fieldName": "FItemModel",
                "caption": "规格型号",
                "hidden": "false",
                "ctrlType": "0",
                "lookUp": "-1",
                "dataType": "0",
                "saveType": "0",
                "mustInput": "false",
                "enable": "false",
                "needSave": "false",
                "action": "",
                "relation": "FItemID",
                "default": "true",
                "sum": "false"
            },
            {
                "fieldName": "FUnitID",
                "caption": "单位(*)",
                "hidden": "false",
                "ctrlType": "2",
                "lookUp": "7",
                "dataType": "1",
                "saveType": "1",
                "mustInput": "true",
                "enable": "true",
                "needSave": "true",
                "action": "",
                "relation": "FUnitID",
                "default": "true",
                "sum": "false"
            },
            {
                "fieldName": "FBatchNo",
                "caption": "批号",
                "hidden": "false",
                "ctrlType": "10",
                "lookUp": "18",
                "dataType": "0",
                "saveType": "0",
                "mustInput": "false",
                "enable": "true",
                "needSave": "true",
                "action": "",
                "relation": "FItemID",
                "default": "true",
                "sum": "false"
            },
            {
                "fieldName": "FKFDate",
                "caption": "生产/采购日期",
                "hidden": "false",
                "ctrlType": "1",
                "lookUp": "-1",
                "dataType": "2",
                "saveType": "0",
                "mustInput": "false",
                "enable": "true",
                "needSave": "true",
                "action": "",
                "relation": "FItemID,FBatchNo,FPeriodDate",
                "default": "true",
                "sum": "false"
            },
            {
                "fieldName": "FKFPeriod",
                "caption": "保质期(天)",
                "hidden": "false",
                "ctrlType": "33",
                "lookUp": "-1",
                "dataType": "1",
                "saveType": "0",
                "mustInput": "false",
                "enable": "true",
                "needSave": "true",
                "action": "",
                "relation": "FItemID,FBatchNo",
                "default": "true",
                "sum": "false"
            },
            {
                "fieldName": "FConsignAmount",
                "caption": "销售金额",
                "hidden": "false",
                "ctrlType": "11",
                "lookUp": "-1",
                "dataType": "1",
                "saveType": "0",
                "mustInput": "false",
                "enable": "true",
                "needSave": "true",
                "action": "",
                "relation": "FAuxQty,FConsignPrice,FQty,FDiscountRate,FDiscountAmount,HEAD&FHolisticDiscountRate",
                "default": "true",
                "sum": "true"
            },
            {
                "fieldName": "FOrgBillEntryID",
                "caption": "拆单源单行号",
                "hidden": "true",
                "ctrlType": "33",
                "lookUp": "-1",
                "dataType": "3",
                "saveType": "0",
                "mustInput": "false",
                "enable": "false",
                "needSave": "true",
                "action": "",
                "relation": "",
                "default": "true",
                "sum": "false"
            },
            {
                "fieldName": "FSourceBillNo",
                "caption": "源单单号",
                "hidden": "false",
                "ctrlType": "0",
                "lookUp": "-1",
                "dataType": "0",
                "saveType": "0",
                "mustInput": "false",
                "enable": "false",
                "needSave": "true",
                "action": "",
                "relation": "",
                "default": "true",
                "sum": "false"
            },
            {
                "fieldName": "FSourceTranType",
                "caption": "源单类型",
                "hidden": "true",
                "ctrlType": "33",
                "lookUp": "-1",
                "dataType": "3",
                "saveType": "0",
                "mustInput": "false",
                "enable": "false",
                "needSave": "true",
                "action": "",
                "relation": "",
                "default": "true",
                "sum": "false"
            },
            {
                "fieldName": "FSourceInterId",
                "caption": "源单内码",
                "hidden": "true",
                "ctrlType": "33",
                "lookUp": "-1",
                "dataType": "3",
                "saveType": "0",
                "mustInput": "false",
                "enable": "false",
                "needSave": "true",
                "action": "",
                "relation": "",
                "default": "true",
                "sum": "true"
            },
            {
                "fieldName": "FSourceEntryID",
                "caption": "源单分录",
                "hidden": "true",
                "ctrlType": "33",
                "lookUp": "-1",
                "dataType": "3",
                "saveType": "0",
                "mustInput": "false",
                "enable": "false",
                "needSave": "true",
                "action": "",
                "relation": "",
                "default": "true",
                "sum": "false"
            },
            {
                "fieldName": "FOrderBillNo",
                "caption": "订单单号",
                "hidden": "false",
                "ctrlType": "0",
                "lookUp": "-1",
                "dataType": "0",
                "saveType": "0",
                "mustInput": "false",
                "enable": "false",
                "needSave": "true",
                "action": "",
                "relation": "",
                "default": "true",
                "sum": "false"
            },
            {
                "fieldName": "FOrderInterID",
                "caption": "订单内码",
                "hidden": "true",
                "ctrlType": "33",
                "lookUp": "-1",
                "dataType": "3",
                "saveType": "0",
                "mustInput": "false",
                "enable": "false",
                "needSave": "true",
                "action": "",
                "relation": "",
                "default": "true",
                "sum": "true"
            },
            {
                "fieldName": "FOrderEntryID",
                "caption": "订单分录",
                "hidden": "true",
                "ctrlType": "33",
                "lookUp": "-1",
                "dataType": "3",
                "saveType": "0",
                "mustInput": "false",
                "enable": "false",
                "needSave": "true",
                "action": "",
                "relation": "",
                "default": "true",
                "sum": "false"
            },
            {
                "fieldName": "FAllHookQTY",
                "caption": "已钩稽数量",
                "hidden": "true",
                "ctrlType": "3",
                "lookUp": "-1",
                "dataType": "1",
                "saveType": "0",
                "mustInput": "false",
                "enable": "false",
                "needSave": "true",
                "action": "",
                "relation": "",
                "default": "true",
                "sum": "true"
            },
            {
                "fieldName": "FCurrentHookQTY",
                "caption": "本期钩稽数量",
                "hidden": "true",
                "ctrlType": "3",
                "lookUp": "-1",
                "dataType": "1",
                "saveType": "0",
                "mustInput": "false",
                "enable": "false",
                "needSave": "true",
                "action": "",
                "relation": "",
                "default": "true",
                "sum": "true"
            },
            {
                "fieldName": "FAuxPropID",
                "caption": "辅助属性",
                "hidden": "false",
                "ctrlType": "2",
                "lookUp": "-99",
                "dataType": "1",
                "saveType": "1",
                "mustInput": "true",
                "enable": "true",
                "needSave": "true",
                "action": "",
                "relation": "FAuxPropID",
                "default": "true",
                "sum": "false"
            },
            {
                "fieldName": "FDCStockID",
                "caption": "发货仓库(*)",
                "hidden": "false",
                "ctrlType": "2",
                "lookUp": "5",
                "dataType": "1",
                "saveType": "1",
                "mustInput": "true",
                "enable": "true",
                "needSave": "true",
                "action": "",
                "relation": "FDVStockID,FDCStockID",
                "default": "true",
                "sum": "false"
            },
            {
                "fieldName": "FPeriodDate",
                "caption": "有效期至",
                "hidden": "false",
                "ctrlType": "1",
                "lookUp": "-1",
                "dataType": "2",
                "saveType": "0",
                "mustInput": "false",
                "enable": "true",
                "needSave": "true",
                "action": "",
                "relation": "FItemID,FKFDate,FKFPeriod,FBatchNo",
                "default": "true",
                "sum": "false"
            },
            {
                "fieldName": "FAuxQtyMust",
                "caption": "应发数量",
                "hidden": "false",
                "ctrlType": "3",
                "lookUp": "-1",
                "dataType": "1",
                "saveType": "0",
                "mustInput": "false",
                "enable": "false",
                "needSave": "true",
                "action": "",
                "relation": "FUnitID",
                "default": "true",
                "sum": "true"
            },
            {
                "fieldName": "FQtyMust",
                "caption": "基本应发单位数量",
                "hidden": "false",
                "ctrlType": "3",
                "lookUp": "-1",
                "dataType": "1",
                "saveType": "0",
                "mustInput": "false",
                "enable": "false",
                "needSave": "true",
                "action": "",
                "relation": "",
                "default": "true",
                "sum": "true"
            },
            {
                "fieldName": "FDiscountRate",
                "caption": "折扣率(%)",
                "hidden": "true",
                "ctrlType": "11",
                "lookUp": "-1",
                "dataType": "1",
                "saveType": "0",
                "mustInput": "false",
                "enable": "true",
                "needSave": "true",
                "action": "",
                "relation": "FDiscountAmount",
                "default": "true",
                "sum": "false"
            },
            {
                "fieldName": "FDiscountAmount",
                "caption": "折扣额",
                "hidden": "true",
                "ctrlType": "11",
                "lookUp": "-1",
                "dataType": "1",
                "saveType": "0",
                "mustInput": "false",
                "enable": "true",
                "needSave": "true",
                "action": "",
                "relation": "FQty,FAuxQty,FConsignPrice,FDiscountRate",
                "default": "true",
                "sum": "true"
            },
            {
                "fieldName": "FAuxQtyInvoice",
                "caption": "开票数量",
                "hidden": "false",
                "ctrlType": "3",
                "lookUp": "-1",
                "dataType": "1",
                "saveType": "0",
                "mustInput": "false",
                "enable": "false",
                "needSave": "true",
                "action": "",
                "relation": "",
                "default": "true",
                "sum": "true"
            },
            {
                "fieldName": "FQtyInvoice",
                "caption": "基本单位开票数量",
                "hidden": "false",
                "ctrlType": "3",
                "lookUp": "-1",
                "dataType": "1",
                "saveType": "0",
                "mustInput": "false",
                "enable": "false",
                "needSave": "true",
                "action": "",
                "relation": "",
                "default": "true",
                "sum": "true"
            },
            {
                "fieldName": "FCustItemName",
                "caption": "客户商品名称",
                "hidden": "false",
                "ctrlType": "30",
                "lookUp": "-1",
                "dataType": "0",
                "saveType": "0",
                "mustInput": "false",
                "enable": "true",
                "needSave": "true",
                "action": "",
                "relation": "",
                "default": "true",
                "sum": "false"
            },
            {
                "fieldName": "FCustItemNo",
                "caption": "客户料号",
                "hidden": "false",
                "ctrlType": "30",
                "lookUp": "-1",
                "dataType": "0",
                "saveType": "0",
                "mustInput": "false",
                "enable": "true",
                "needSave": "true",
                "action": "",
                "relation": "",
                "default": "true",
                "sum": "false"
            }
        ]
    }
}
```